{% extends 'core/base.html' %}

{% block header %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <form class="dark-box" id="{{ form.id }}" method="post">
            <h2 class="visually-hidden">{{ title }}</h2>
            {% if illustration %}
            <div class="illustration"><i class="{{ illustration }}"></i></div>
            {% endif %}
            {% csrf_token %}
            {% for field in form.visible_fields %}
            <div class="form-row">
                <div class="form-group">
                    {% if show_form_field_labels %}
                    {{ field.label_tag }}
                    {% endif %}
                    {{ field }}
                    {% for error in field.errors %}
                    <div class="alert alert-error">
                        {{ error }}
                    </div>
                    {% endfor %}
                </div>
            </div>
            {% endfor %}
            {% for field in form.hidden_fields %}
            {{ field }}
            {% endfor %}
            {% if messages %}
            {% for message in messages %}
            <div class="alert alert-error">
                {{ message }}
            </div>
            {% endfor %}
            {% endif %}
            <div class="form-row">
                {% for button in buttons %}
                {% if button.type == 'href' %}
                <div class="form-row"><a href="{% url button.url %}" class="{% if button.class %}{{ button.class }}{% else %}btn col-12{% endif %}">
                    {{ button.title }}
                </a></div>
                {% else %}
                <div class="form-row"><button type="{{ button.type }}" {% if button.id %}id="{{ button.id }}" {% endif %} {% if button.value %}id="{{ button.value }}" {% endif %}class="{% if button.class %}{{ button.class }}{% else %}btn btn-primary col-12{% endif %}">
                    {{ button.title }}
                </button></div>
                {% endif %}
                {% endfor %}
            </div>
            {% if footer %}
            <div class="form-row">
                {{ footer | safe }}
            </div>
            {% endif %}
        </form>
    </div>
</div>
{% endblock %}
{% block postfooter %}
{% if autofocus_field %}
<script>
    window.onload = function() {
            var autofocusElement = document.getElementById("{{ autofocus_field }}");
            autofocusElement.focus();
{% if select_text %}
            autofocusElement.select();
{% endif %}
    };
</script>
{% endif %}
{% endblock %}
